plugins {
		id "java"
}
apply plugin: 'org.jetbrains.kotlin.jvm'

repositories {
	mavenCentral()
}

dependencies {
    compile project(":Laplacian.Framework")
}

project.ext.nativeProfile = 'Debug'

task initNativeLibs(type: Exec) {
	workingDir 'FFmpegDecoder/'  commandLine 'cmake', '-DCMAKE_BUILD_TYPE=' + project.ext.nativeProfile, '-G',  '\"CodeBlocks - MinGW Makefiles\"'
}

task buildNativeLibs(type: Exec) {
	workingDir 'FFmpegDecoder/'  commandLine 'cmake', '--build cmake-build-' + project.ext.nativeProfile.toLowerCase(), '--target', 'all', '--', '-j', '4'
}
// Commandline above is generated by CLion, so I don't know what it means, either:(